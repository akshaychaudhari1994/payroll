<!-- employee-payroll.component.html -->
<div class="container mt-4">
  <h2>Employee Payroll Screen</h2>
  <table class="table table-striped">
    <thead>
      <tr>
        <th style="cursor: pointer;" (click)="sortEmployees('name')">Employee Name</th>
        <th style="cursor: pointer;" (click)="sortEmployees('basicSalary')">Basic Salary</th>
        <th style="cursor: pointer;" (click)="sortEmployees('deductions')">Deductions</th>
        <th style="cursor: pointer;" (click)="sortEmployees('netPayout')">Net Payout</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let employee of employees">
        <td (click)="openModal(template,employee)" (click)="showDetailedCalculation(employee)">{{ employee?.name }}</td>
        <td>{{ employee?.basicSalary }}</td>
        <td>{{ employee?.deductions }}</td>
        <td>{{ employee?.netPayout }}</td>
      </tr>
    </tbody>
  </table>
</div>


<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Employee detail</h4>
    <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="modalRef?.hide()">
      <span aria-hidden="true" class="visually-hidden">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <app-detailed-calculation [selectedEmployee]="selectedEmployee"></app-detailed-calculation>
  </div>
</ng-template>